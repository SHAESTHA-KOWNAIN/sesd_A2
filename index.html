<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Food Ordering System Diagrams (Mermaid)</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 24px; }
    h2 { margin-top: 40px; }
    .mermaid { margin: 20px 0; }
  </style>
</head>
<body>
  <h1>Food Ordering System Diagrams</h1>
  <p>All diagrams are built directly in code using Mermaid.js (no external images).</p>

  <!-- 1) Use Case Diagram -->
  <h2>1) Use Case Diagram</h2>
  <div class="mermaid">
    flowchart LR
      User((User)) --- UC1[Browse Restaurants]
      User --- UC2[Place Order]
      User --- UC3[Pay Online]
      User --- UC4[Track Order]

      DeliveryPartner((Delivery Partner)) --- DP1[Accept Delivery]
      DeliveryPartner --- DP2[Update Delivery Status]

      RestaurantAdmin((Restaurant Admin)) --- RA1[Manage Menu]
      RestaurantAdmin --- RA2[Accept/Reject Order]
      RestaurantAdmin --- RA3[Update Order Status]

      PlatformAdmin((Platform Admin)) --- PA1[Manage Restaurants]
      PlatformAdmin --- PA2[Manage Delivery Partners]
      PlatformAdmin --- PA3[View Reports]
  </div>

  <!-- 2) Class Diagram -->
  <h2>2) Class Diagram</h2>
  <div class="mermaid">
    classDiagram
      class User {
        +UUID userId
        +String name
        +String email
        +String phone
        +Address address
        +browseRestaurants()
        +placeOrder()
        +trackOrder()
      }

      class Restaurant {
        +UUID restaurantId
        +String name
        +Address location
        +acceptOrder()
        +updateOrderStatus()
      }

      class MenuItem {
        +UUID itemId
        +String name
        +String description
        +Decimal price
        +boolean available
      }

      class Payment {
        +UUID paymentId
        +UUID orderId
        +Decimal amount
        +String method
        +PaymentStatus status
        +processPayment()
      }

      class Order {
        +UUID orderId
        +UUID userId
        +UUID restaurantId
        +Decimal totalAmount
        +OrderStatus status
        +DateTime placedAt
        +updateStatus()
      }

      class OrderItem {
        +UUID itemId
        +int quantity
        +Decimal price
      }

      class Delivery {
        +UUID deliveryId
        +UUID orderId
        +UUID partnerId
        +DateTime pickupETA
        +DateTime dropETA
        +DeliveryStatus status
      }

      class DeliveryPartner {
        +UUID partnerId
        +String name
        +String phone
        +String vehicleInfo
        +acceptDelivery()
        +updateDeliveryStatus()
      }

      User --> Order
      Restaurant --> Order
      Restaurant --> MenuItem
      Order --> OrderItem
      Order --> Payment
      Order --> Delivery
      DeliveryPartner --> Delivery
  </div>

  <!-- 3) Sequence Diagram -->
  <h2>3) Sequence Diagram (Place & Track Order)</h2>
  <div class="mermaid">
    sequenceDiagram
      participant U as User(App)
      participant PB as Platform Backend
      participant RS as Restaurant System
      participant PG as Payment Gateway
      participant DS as Delivery Service
      participant DPA as Delivery Partner App

      U->>PB: Browse Restaurants
      PB-->>U: Return list
      U->>PB: Place Order
      PB->>PG: Process Payment
      PG-->>PB: Payment Confirmed
      PB->>RS: Send Order
      RS-->>PB: Order Accepted
      PB-->>U: Order Confirmed

      RS->>RS: Prepare Food
      RS-->>PB: Prepared

      PB->>DS: Assign Delivery
      DS-->>PB: Delivery Assigned
      PB->>DPA: Notify Partner
      DPA-->>PB: Partner Accepted

      DPA->>PB: Pickup Complete
      DPA->>PB: Update Location
      PB-->>U: Tracking Updates
      DPA->>PB: Delivered
      PB-->>U: Order Delivered
  </div>

  <!-- 4) Activity Diagram -->
  <h2>4) Activity Diagram</h2>
  <div class="mermaid">
    flowchart TD
      A[Start] --> B[Browse Restaurants]
      B -->|Select Items| C[Place Order]
      B -->|No Items| Z[End]

      C --> D[Make Payment]
      D -->|Failed| Z
      D -->|Success| E[Restaurant Accepts Order?]

      E -->|Rejected| F[Notify User & Refund] --> Z
      E -->|Accepted| G[Prepare Food]

      G --> H[Food Prepared]
      H --> I[Assign Delivery Partner]
      I --> J[Partner Picks Up Order]
      J --> K[In Transit / Tracking Updates]
      K --> L[Delivered]
      L --> M[Confirm Delivery + Feedback]
      M --> Z
  </div>

  <!-- 5) State Machine Diagram -->
  <h2>5) State Machine Diagram</h2>
  <div class="mermaid">
    stateDiagram-v2
      [*] --> INITIATED
      INITIATED --> PAYMENT_PENDING: placeOrder
      PAYMENT_PENDING --> ACCEPTED: paymentSuccess
      PAYMENT_PENDING --> PAYMENT_FAILED: paymentFailed

      ACCEPTED --> PREPARING: restaurantAccepts
      PREPARING --> PREPARED: preparationComplete
      PREPARED --> DISPATCHED: deliveryAssigned
      DISPATCHED --> OUT_FOR_DELIVERY: partnerPickedUp
      OUT_FOR_DELIVERY --> DELIVERED: deliveryCompleted
      OUT_FOR_DELIVERY --> DELIVERY_FAILED: deliveryFailed

      ACCEPTED --> CANCELLED: cancel
      PAYMENT_PENDING --> CANCELLED: cancel
      PREPARED --> CANCELLED: cancel
      DELIVERED --> [*]
  </div>
</body>
</html>
